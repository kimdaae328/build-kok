<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kok.mapper.AdminBannerMapper">
<!--  파일 추가  -->
    <insert id="insertBannerFile" useGeneratedKeys="true" keyProperty="id">
        insert into tbl_banner_file (banner_file_origin_name, banner_file_name, banner_file_path, banner_file_size, banner_file_content_type)
        values (#{bannerFileOriginName}, #{bannerFileName}, #{bannerFilePath}, #{bannerFileSize}, #{bannerFileContentType})
    </insert>

<!--  파일 목록 조회  -->
    <select id="selectBannerFiles">
        select id,
               banner_file_origin_name,
               banner_file_name,
               banner_file_path,
               banner_file_size,
               banner_file_content_type,
               created_datetime,
               updated_datetime
        from tbl_banner_file
        order by id desc
        limit #{count} offset #{offset}
    </select>

<!--  아이디로 파일 조회  -->
    <select id="selectBannerFilesById">
        select id,
               banner_file_origin_name,
               banner_file_name,
               banner_file_path,
               banner_file_size,
               banner_file_content_type,
               created_datetime,
               updated_datetime
        from tbl_banner_file
        where id = #{id}
    </select>

<!--  파일 전체 개수  -->
    <select id="countBannerFiles">
        select count(*) from tbl_banner_file
    </select>

<!--  파일 삭제  -->
    <delete id="deleteBannerFile">
        delete from tbl_banner_file
        where id = #{id}
    </delete>
</mapper>