<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kok.mapper.CompanyProfileFileMapper">
<!--    기업 id로 기업 프로필 사진 조회-->
    <select id="selectByCompanyId">
        select c.user_id, cp.company_id, f.id, f.file_origin_name, f.file_name, f.file_path, f.file_size, f.file_content_type
        from tbl_company c
        left join tbl_company_profile_file cp
        on cp.company_id=c.user_id
        join tbl_file f
        on cp.file_id=f.id
        where c.user_id=#{companyId}
    </select>
    <select id="selectCountByCompanyId">
        select COUNT(*)
        from tbl_company c
                 left join tbl_company_profile_file cp
                           on cp.company_id=c.user_id
                 join tbl_file f
                      on cp.file_id=f.id
        where c.user_id=#{companyId}
    </select>
</mapper>