<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kok.mapper.AdvertisementBackgroundFileMapper">

<!--  광고 신청 파일 조회  -->
    <select id="selectAdvertisementBackgroundFileById">
        select f.id,
               f.file_origin_name,
               f.file_name,
               f.file_path,
               f.file_size,
               f.file_content_type,
               f.created_datetime,
               f.updated_datetime,
               abf.advertisement_id
        from tbl_file f
            join tbl_advertisement_background_file abf
                on f.id = abf.file_id
        where abf.advertisement_id = #{id}
    </select>

<!--  광고 신청 파일 경로 조회  -->
    <select id="selectBackgroundFilePathById">
        select f.file_path
        from tbl_file f
            join tbl_advertisement_background_file abf
                on f.id = abf.file_id
        where f.id = #{id}
    </select>

<!--  파일 조회  -->
    <select id="selectBackgroundFileById">
        select f.id,
               f.file_origin_name,
               f.file_name,
               f.file_path,
               f.file_size,
               f.file_content_type,
               f.created_datetime,
               f.updated_datetime,
               abf.advertisement_id
        from tbl_file f
            join tbl_advertisement_background_file abf
                on f.id = abf.file_id
        where f.id = #{id}
    </select>
</mapper>